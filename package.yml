name       : glib2
version    : 2.54.3
release    : 42
source     :
    - https://download.gnome.org/sources/glib/2.54/glib-2.54.3.tar.xz : 963fdc6685dc3da8e5381dfb9f15ca4b5709b28be84d9d05a9bb8e446abac0a8
license    :
    - LGPL-2.1
summary    : Low level C library containing data structure handling and interfaces
component  : system.base
builddeps  :
    - pkgconfig32(libelf)
    - pkgconfig32(libffi)
    - pkgconfig32(libpcre)
    - pkgconfig32(mount)
    - pkgconfig32(zlib)
emul32     : yes
description: |
    GLib is the low-level core library that forms the basis for projects such as GTK+ and GNOME. It provides data structure handling for C, portability wrappers, and interfaces for such runtime functionality as an event loop, threads, dynamic loading, and an object system.
setup      : |
    %apply_patches
    %configure --prefix=/usr \
               --with-pcre=system \
               --disable-static
build      : |
    %make
install    : |
    %make_install
    # Allow emul32 to work correctly.
    install -m 00644 $pkgfiles/glibconfig.h $installdir/usr/include/glib-2.0/glibconfig.h
